<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>SVG Line Chart (Vanilla JS)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        svg {
            border: 1px solid #ccc;
        }
    </style>
</head>

<body>
    <h2>Line Chart</h2>
    <div id="chart-container"></div>

    <script>
        const data = {
            "Piscine JS": 70000,
            "ascii-art": 6125,
            "ascii-art-color": 6125,
            "ascii-art-fs": 6125,
            "ascii-art-justify": 6125,
            "ascii-art-output": 6125,
            "ascii-art-web": 9200,
            "ascii-art-web-dockerize": 9200,
            "ascii-art-web-export-file": 9200,
            "ascii-art-web-stylize": 9200,
            "forum": 76250,
            "go-reloaded": 5000,
            "groupie-tracker": 24500,
            "groupie-tracker-visualizations": 12250,
            "guess-it-1": 5000,
            "lem-in": 34375,
            "linear-stats": 10000,
            "make-your-game": 147000,
            "make-your-game-history": 49000,
            "math-skills": 10000,
            "net-cat": 12250,
            "real-time-forum": 103500,
            "real-time-forum-typing-in-progress": 51750
        };

        // Setup
        const labels = Object.keys(data);
        const values = Object.values(data);

        const width = 1000;
        const height = 530;
        const padding = 60;
        // <svg id="chart" viewBox="0 0 800 250" preserveAspectRatio="none"></svg>

        const maxValue = Math.max(...values);

        // Create SVG element
        const svgNS = "http://www.w3.org/2000/svg";
        const svg = document.createElementNS(svgNS, "svg");
        svg.setAttribute("viewBox", "0 0 1000 600");
        svg.setAttribute("height", height);

        // Scale functions  
        const xStep = (width - 2 * padding) / (labels.length - 1);
        const scaleY = val => height - padding - (val / maxValue) * (height - 2 * padding);

        const points = [];

        labels.forEach((label, i) => {
            const x = padding + i * xStep;
            const y = scaleY(data[label]);
            points.push({ x, y, label });

            // Draw circle
            const circle = document.createElementNS(svgNS, "circle");
            circle.setAttribute("cx", x);
            circle.setAttribute("cy", y);
            circle.setAttribute("r", 4);
            circle.setAttribute("fill", "blue");
            svg.appendChild(circle);

            // Label
            const text = document.createElementNS(svgNS, "text");
            text.setAttribute("x", x);
            text.setAttribute("y", height - padding + 15);
            text.setAttribute("font-size", "10");
            text.setAttribute("text-anchor", "end");
            text.setAttribute("transform", `rotate(-45 ${x},${height - padding + 15})`);
            text.textContent = label;
            svg.appendChild(text);
            svg.appendChild(text);
        });

        // Draw lines between points
        for (let i = 0; i < points.length - 1; i++) {
            const line = document.createElementNS(svgNS, "line");
            line.setAttribute("x1", points[i].x);
            line.setAttribute("y1", points[i].y);
            line.setAttribute("x2", points[i + 1].x);
            line.setAttribute("y2", points[i + 1].y);
            line.setAttribute("stroke", "blue");
            line.setAttribute("stroke-width", "2");
            svg.appendChild(line);
        }

        // Draw axes
        const xAxis = document.createElementNS(svgNS, "line");
        xAxis.setAttribute("x1", padding);
        xAxis.setAttribute("y1", height - padding);
        xAxis.setAttribute("x2", width - padding);
        xAxis.setAttribute("y2", height - padding);
        xAxis.setAttribute("stroke", "#000");
        svg.appendChild(xAxis);

        const yAxis = document.createElementNS(svgNS, "line");
        yAxis.setAttribute("x1", padding);
        yAxis.setAttribute("y1", padding);
        yAxis.setAttribute("x2", padding);
        yAxis.setAttribute("y2", height - padding);
        yAxis.setAttribute("stroke", "#000");
        svg.appendChild(yAxis);

        // Add Y-axis labels
        const steps = 5;
        for (let i = 0; i <= steps; i++) {
            const val = (maxValue / steps) * i;
            const y = scaleY(val);
            const text = document.createElementNS(svgNS, "text");
            text.setAttribute("x", padding - 10);
            text.setAttribute("y", y + 4);
            text.setAttribute("text-anchor", "end");
            text.setAttribute("font-size", "10");
            text.textContent = val;
            svg.appendChild(text);

            // Grid line
            const grid = document.createElementNS(svgNS, "line");
            grid.setAttribute("x1", padding);
            grid.setAttribute("y1", y);
            grid.setAttribute("x2", width - padding);
            grid.setAttribute("y2", y);
            grid.setAttribute("stroke", "#ccc");
            grid.setAttribute("stroke-dasharray", "2,2");
            svg.appendChild(grid);
        }

        document.getElementById("chart-container").appendChild(svg);
    </script>
</body>

</html>